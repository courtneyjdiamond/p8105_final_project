---
title: "P8105 Fall 2023 Final Project"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
```

Citibike Jan/2019 ~ Dec/2019
```{r}
citibike_df = 
  tibble(
    files = list.files("citibike/"),
    path = str_c("citibike/", files)
  ) |> 
  mutate(data = map(path, read_csv)) |> 
  unnest()
```

Tidy dataset 
```{r}
citibike = citibike_df |>
  janitor::clean_names() |>
  select(-files, -path) |>
  mutate(gender = recode(gender,
                         "0" = "Unknown",
                         "1" = "Male",
                         "2" = "Female"))
```

Air Quality Data
```{r}
air_df <- read_csv("air_quality/Air_Quality_20231126.csv")
```

Tidy Air Quality Data
```{r}
air_quality = air_df |>
  janitor::clean_names() |>
  mutate(
    start_date = mdy(start_date),
    year = year(start_date)
  )

air_quality =
  air_quality |>
  filter(year == "2019")
```